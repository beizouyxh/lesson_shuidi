{"ast":null,"code":"var _jsxFileName = \"F:\\\\lesson_shuidi\\\\react\\\\rona\\\\components\\\\CountrySelector.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport useStats from '../utils/useStats';\nimport Stats from './Stats';\nimport { useState } from 'react';\nexport default function CountrySelector() {\n  var _this = this;\n\n  // vuex  useStats 数据中心\n  // useStats 被两个差不多的组件复用了， 大部分业务都是这样的\n  // 一个数据请求在mounted 发生， setStats \n  var _useStats = useStats('https://covid19.mathdro.id/api/countries'),\n      countries = _useStats.stats,\n      loading = _useStats.loading,\n      error = _useStats.error; // console.log(countries); //mvvm \n\n\n  var _useState = useState('USA'),\n      selectedCountry = _useState[0],\n      setSelectedCountry = _useState[1];\n\n  if (loading) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 23\n    }\n  }, \"Loading....\");\n  if (error) return __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 21\n    }\n  }, \"Error....\");\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, \"Currently Showing \", selectedCountry), __jsx(\"select\", {\n    onChange: function onChange(e) {\n      setSelectedCountry(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }\n  }, countries.countries.map(function (country) {\n    return __jsx(\"option\", {\n      key: country.name,\n      value: country.iso3,\n      selected: country.iso3 === selectedCountry,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }\n    }, country.iso3);\n  })));\n} // useState  跨组件提供状态  替代  redux","map":{"version":3,"sources":["F:/lesson_shuidi/react/rona/components/CountrySelector.js"],"names":["useStats","Stats","useState","CountrySelector","countries","stats","loading","error","selectedCountry","setSelectedCountry","e","target","value","map","country","name","iso3"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,mBAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,eAAe,SAASC,eAAT,GAA2B;AAAA;;AACxC;AACA;AACA;AAHwC,kBAIKH,QAAQ,CAAC,0CAAD,CAJb;AAAA,MAIzBI,SAJyB,aAIhCC,KAJgC;AAAA,MAIdC,OAJc,aAIdA,OAJc;AAAA,MAILC,KAJK,aAILA,KAJK,EAKxC;;;AALwC,kBAMML,QAAQ,CAAC,KAAD,CANd;AAAA,MAMjCM,eANiC;AAAA,MAMhBC,kBANgB;;AAOxC,MAAIH,OAAJ,EAAa,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAP;AACb,MAAIC,KAAJ,EAAW,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AACX,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAuBC,eAAvB,CADF,EAEE;AACE,IAAA,QAAQ,EAAE,kBAAAE,CAAC,EAAE;AACXD,MAAAA,kBAAkB,CAACC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;AACD,KAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMIR,SAAS,CAACA,SAAV,CAAoBS,GAApB,CAAwB,UAAAC,OAAO;AAAA,WAC7B;AACE,MAAA,GAAG,EAAEA,OAAO,CAACC,IADf;AAEE,MAAA,KAAK,EAAED,OAAO,CAACE,IAFjB;AAGE,MAAA,QAAQ,EAAEF,OAAO,CAACE,IAAR,KAAiBR,eAH7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIGM,OAAO,CAACE,IAJX,CAD6B;AAAA,GAA/B,CANJ,CAFF,CADF;AAsBD,C,CACD","sourcesContent":["import useStats from '../utils/useStats';\r\nimport Stats from './Stats';\r\nimport { useState } from 'react';\r\n\r\nexport default function CountrySelector() {\r\n  // vuex  useStats 数据中心\r\n  // useStats 被两个差不多的组件复用了， 大部分业务都是这样的\r\n  // 一个数据请求在mounted 发生， setStats \r\n  const { stats: countries, loading, error } = useStats('https://covid19.mathdro.id/api/countries');\r\n  // console.log(countries); //mvvm \r\n  const [selectedCountry, setSelectedCountry] = useState('USA');\r\n  if (loading) return <p>Loading....</p>\r\n  if (error) return <p>Error....</p>\r\n  return (\r\n    <div >\r\n      <h2>Currently Showing {selectedCountry}</h2>\r\n      <select\r\n        onChange={e=>{\r\n          setSelectedCountry(e.target.value)\r\n        }}\r\n      >\r\n        {\r\n          countries.countries.map(country => (\r\n            <option\r\n              key={country.name}\r\n              value={country.iso3}\r\n              selected={country.iso3 === selectedCountry}>\r\n              {country.iso3}\r\n            </option>\r\n          ))\r\n        }\r\n      </select>\r\n      {/* <Stats url={`https://covid19.mathdro.id/api/countries/${selectedCountry}`}></Stats> */}\r\n    </div>\r\n  )\r\n}\r\n// useState  跨组件提供状态  替代  redux "]},"metadata":{},"sourceType":"module"}